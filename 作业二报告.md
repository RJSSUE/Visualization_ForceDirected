### 可视化与可视计算概论 作业1报告

北京大学信息科学技术学院智能科学系 李泳民 1700012846 芮静姝 1700012799

1. #####数据描述和分析。数据的维度、规模、特性，对这个数据可能开展的分析点包括哪些。

   本次任务定义明确，根据csranking上的教职毕业学校与其任职学校的流向数据，完成力导向布局可视化。nodes 拥有 id (学校名称) 和 weight (当前教职中毕业于该校的人数) 两个属性，links 拥有 source (毕业学校名称)，target (任职学校名称) 和 weight (这种流向的人数) 三个属性。

   利用上述数据完成力导向图布局算法，用颜色通道编码学校信息，用透明度通道编码是否选中信息，用边的粗细编码 links.weight，用点的大小编码 nodes.weight。

2. #####算法的设计与分析。介绍算法的设计思路，分析算法中参数的调整对图布局可能的影响，并对算法的时间复杂度以及收敛速度进行分析。

   

3. #####可视化结果描述。给出你的可视化作品说明，并说说从这个作品中你的发现。整个过程中你的思考。

   进入页面后经过动画出现界面如下

   ![image-20201121164802302](./pics/image-20201121164802302.png)

   鼠标移至某个点，变淡且显示学校名称和人数；出边（毕业后去其他学校工作）显示为橙色，入边（其他学校毕业后来该校工作）显示为绿色。

   ![image-20201121175351895](./pics/image-20201121175351895.png)

   鼠标移动到某一条边上，会显示浮窗，提示教职的毕业和工作院校流向和人数

   ![image-20201121165011738](./pics/image-20201121165011738.png)

   常数及其含义如下

   ```javascript
   let constants = {
       k_Coulomb: -0.06, // 库伦力常数，符号影响排斥/吸引，负数是排斥
       k_Hooke: 0.03, // 弹簧弹力常数，正数是弹簧拉长时吸引，弹簧实际使用时会乘上学校间共享的人数
       d_Hooke: 100, // 弹簧的标准长度 现在是所有弹簧的标准长度均如此，与弹簧的强度等等无关
       mu: -0.5, // 阻力与速度的比值
       v_threshold: 0.001, // 收敛时的平均速度，越大收敛越快，但可能离完全收敛越远。
       delta_t: 0.2, // 模拟的时间步的长度，调大会使模拟变快，但可能会导致不精准
   };
   ```

   可以调整左侧滑条来设置参数，调整后自动重新计算平衡，并有动画过渡；点击restart按钮可以重新从随机分布初始化的点开始计算平衡

   ![image-20201121165304026](./pics/image-20201121165304026.png)

   拖动某个点，opacity变为1并且这个点停止不动，其余点根据其位置重新计算平衡

   ![image-20201121165440348](./pics/image-20201121165440348.png)

   拖动多个点后的示例

   ![image-20201121165625791](./pics/image-20201121165625791.png)

   再次点击被拖动的点，可以解除固定位置，逐一重新计算平衡（重新解除部分固定点的示例如下）

   ![image-20201121165724291](./pics/image-20201121165724291.png)


####思考与反思：


